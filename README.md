# 概述
## 基于HuskyLens二哈识图的人脸识别执行动作  

![image](https://github.com/user-attachments/assets/bbcac29d-61a0-4449-b8e4-802ab2219394)  

## 这个项目中使用到的东西  

1.Raspiberry Pi 4b

2.两个SG90 180度舵机  

3.SKU SEN0305 Gravity HUSKYLENS 人工智能摄像头  

## 故事

HuskyLens二哈识图是一款简单易用的AI视觉传感器，内置7种功能：人脸识别、物体追踪、物体识别、巡线追踪、颜色识别、标签识别、物体分类。仅需一个按键即可完成AI训练，摆脱繁琐的训练和复杂的视觉算法，让你更加专注于项目的构思和实现。
HuskyLens板载UART / I2C接口，可以连接到Arduino、LattePanda、micro:bit等主流控制器，实现硬件无缝对接。HuskyLens直接输出识别结果给控制器，你无需折腾复杂的算法，就能制作非常有创意的项目。

## 我们制作这个项目所需的材料  

1.面包板  

2.公对公跳线  

## 接线图  

pin = 5
![image](https://github.com/user-attachments/assets/df503f5a-dc7c-4d03-a8d5-83a25c7e8dd5)  

# 具体步骤  

## 识别单个人脸  

本功能可以侦测任何脸部轮廓；识别、追踪学习过的人脸且将报文通过串口发送，默认设置为学习并识别单个人脸   

## 操作设置
向左拨动“功能按键”，直至屏幕顶部显示“人脸识别”  

![20241007-133952](https://github.com/user-attachments/assets/a2053f66-62ce-4e63-866d-4e5ff840afc4)

## 学习与识别  

1.侦测人脸  
2.把HuskyLens对准有人脸的区域，屏幕上会用白色框自动框选出检测到的所有人脸，并分别显示“人脸”字样。  
3.若此时屏幕中央的“+”字没有对准任何人脸框，则另一面的RGB灯不亮。  
![20241007-114345](https://github.com/user-attachments/assets/c1626f97-f7bb-49cb-ba92-48b0db50d8f7)  
4.若此时屏幕中央的“+”字对准在任意人脸框内，则另一面的RGB灯亮蓝色。  
![20241007-114636](https://github.com/user-attachments/assets/21beacd0-79ce-494b-9319-d9f310597c54)  

小提示：  
6.如需让HuskyLens学习或识别自己的脸，也就是自拍，此时看不到屏幕，那么可以根据RGB指示灯的不同颜色来确定状态。  
7.学习人脸  
8.将HuskyLens屏幕中央的“+”字对准需要学习的人脸，短按“学习按键”完成学习。如果识别到相同的脸，则屏幕上会出现一个蓝色的框并显示”人脸：ID1“。这说明已经可以进行人脸识别了。  
![image](https://github.com/user-attachments/assets/bb135796-e733-4171-8215-20f7497f9eab)
9.然而，上述操作只是让HuskyLens学习了人脸的一个角度(维度)，但实际上人脸是立体的，因此人脸有多个角度。如果人脸角度变化了，比如正脸换成了侧脸，那HuskyLens不一定能识别出来。为解决这个问题，HuskyLens内置有持续学习的功能，能录入人脸的各个角度，让HuskyLens越学越准确。  
10.录入各个角度人脸的操作方法如下：(注：开始学习新的人脸之前，先要让HuskyLens忘记已经学习过的人脸。操作方法参考“忘记学过的人脸”章节。)  
11.将HuskyLens屏幕中央的“+”字对准需要学习的人脸，长按“学习按键”不松开，此时屏幕中会在人脸上显示黄色框并标识“人脸:ID1”，说明HuskyLens正在学习人脸。然后，将HuskyLens屏幕中央的黄色框依次对准同一个人的脸的不同角度，如正脸、侧脸（也可以是同一个人的多张照片），录入此人脸的各个角度。学习过程中，RGB灯为黄色。  
![img_v3_02fe_ab74b309-3333-48ec-8e12-1dc0741bd4bg](https://github.com/user-attachments/assets/7423f070-8223-466f-bfa8-b207719a97f5)
12.接着，松开“学习按键”，结束学习。如果HuskyLens识别到学习过的人脸，则屏幕上，这个人脸会被蓝色的框选中，并显示”人脸：ID1“。  
13.小提示： 如果屏幕中央没有“+”字，说明HuskyLens在该功能下已经学习过了（已学习状态）。如要让HuskyLens学习新的人脸，则需要先让HuskyLens忘记已学的人脸。  
14.识别人脸  
15.HuskyLens学习过的人脸信息会自动保存起来。后续，当HuskyLens检测到学习过的人脸时，会将该人脸用蓝色方框框选出来并标识“人脸:ID1”，边框大小会随着人脸大小而变化，并自动追踪人脸。此时RGB指示灯为绿色。  
![image](https://github.com/user-attachments/assets/0d8cf33e-40a2-495d-be6a-e7cf5e3fab85)


16.忘记学过的人脸  
17.如果屏幕中央没有“+”字，说明HuskyLens在该功能下已经学习过了（已学习状态）。如要让HuskyLens学习新的人脸，则需要删除之前学习过的人脸信息，也就是让HuskyLens忘记已学的人脸。  
18.删除已学东西的操作方法如下：  
19.在当前功能下，短按“学习按键”，屏幕提示“再按一次遗忘！”。在倒计时结束前，再次短按“学习按键”，即可删除上次学习的东西，屏幕中央显示“+”字，说明HuskyLens已经准备好学习新东西了。如果不小心短按了“学习按键”，屏幕已经提示“再按一次遗忘！”，但又不想删除已学习的东西，那么在倒计时结束前，不要有任何操作即可。  
![img_v3_02fe_a68d8f19-fa4b-409e-bae3-e95956be312g](https://github.com/user-attachments/assets/d8ea337d-bd4a-4879-9574-f548e4da07a0)  
注：让HuskyLens忘记所学东西的操作方法，在其他功能下，也是完全一样的，后续不再复述。

## 识别多个人脸
默认设置为学习并识别单个人脸。如要学习并识别多个人脸，则需要在人脸识别功能的二级菜单参数设置中打开“学习多个”选项。  
### 操作设置
向左拨动“功能按键”，至屏幕顶部显示“人脸识别”。  
1.长按“功能按键”，进入人脸识别功能的二级菜单参数设置界面。  
2.向左或向右拨动“功能按键”，选中“学习多个”，然后短按“功能按键”，接着向右拨动“功能按键”打开“学习多个”的开关，即：进度条颜色变蓝，进度条上的方块位于进度条的右边。再短按“功能按键”，确认该参数。  
3.向左拨动“功能按键”，选中“保存并返回“，短按”功能按键“，屏幕提示”是否保存参数？“。默认选择”确认“，此时短按”功能按键“，即可保存参数，并自动返回到人脸识别模式。  
### 学习与识别
1.学习多个人脸：  
2.将HuskyLens屏幕中央的“+”字对准需要学习的人脸，长按“学习按键”完成第一个人脸的学习（各个角度）。松开”学习按键“后，屏幕上会提示：”再按一次按键继续！按其他按键结束“。如要继续学习下一个人脸，则在倒计时结束前短按“学习按键”，可以继续学习下一个人脸。如果不再需要学习其他人脸了，则在倒计时结束前短按”功能按键”即可,或者不操作任何按键，等待倒计时结束。  
3.本章节中，我们需要继续学习下一个人脸，因此在倒计时结束前短按“学习按键”。然后将HuskyLens屏幕中央的“+”字对准需要学习的下一个人脸，长按“学习按键”完成第二个人的脸的学习。以此类推。  
4.HuskyLens标注的人脸ID与录入人脸的先后顺序是一致的，也就是：学习过的人脸会按顺序依次标注为“人脸：ID1”，“人脸：ID2”，“人脸：ID3”，以此类推，并且不同的人脸ID对应的边框颜色也不同。  
5.小提示：如果屏幕中央没有“+”字，说明HuskyLens在该功能下已经学习过了（已学习状态）。如要让HuskyLens学习新人脸，则需要先让HuskyLens忘记已学的。操作方法参考“忘记学过的人脸”章节。  
6.识别多个人脸：  
7.HuskyLens学习过的人脸信息会自动保存起来。后续，当HuskyLens检测到学习过的人脸时，会将这些人脸用方框框选出来并标识ID，第一个学习的人脸标注为“人脸：ID1”，第二个学习的人脸标注为“人脸：ID2”，第三个学习的人脸标注为“人脸：ID3”，以此类推。不同的人脸ID对应的边框颜色也不同，边框大小会随着人脸大小而变化，并自动追踪人脸。  
![img_v3_02fe_f487fa28-5537-4b5b-9c96-e44dd920332g](https://github.com/user-attachments/assets/886c1760-5007-4f0c-a8ee-7a09ad2f247f)
## 实验现象
https://github.com/user-attachments/assets/ca646a3d-14b9-4742-b308-6583ad8a0ba0




